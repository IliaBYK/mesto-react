{"ast":null,"code":"import _classCallCheck from\"/Users/iliabybykov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/iliabybykov/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;this._headers=options.headers;}_createClass(Api,[{key:\"_checkDataResponse\",value:function _checkDataResponse(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"_getResponse\",value:function _getResponse(url,options){return fetch(url,options).then(this._checkDataResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return this._getResponse(this._url+'/cards',{headers:this._headers});}},{key:\"getServerUserInfo\",value:function getServerUserInfo(){return this._getResponse(this._url+'/users/me',{headers:this._headers});}},{key:\"setServerUserInfo\",value:function setServerUserInfo(inputs){return this._getResponse(this._url+'/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:inputs.name,about:inputs.about})});}},{key:\"postServerCard\",value:function postServerCard(inputs){return this._getResponse(this._url+'/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:inputs.name,link:inputs.link})});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._getResponse(this._url+'/cards/'+cardId,{method:'DELETE',headers:this._headers});}},{key:\"putLike\",value:function putLike(cardId){return this._getResponse(this._url+'/cards/'+cardId+'/likes',{method:'PUT',headers:this._headers});}},{key:\"deleteLike\",value:function deleteLike(cardId){return this._getResponse(this._url+'/cards/'+cardId+'/likes',{method:'DELETE',headers:this._headers});}},{key:\"setUserAvatar\",value:function setUserAvatar(inputs){return this._getResponse(this._url+'/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:inputs.avatar})});}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-52',headers:{authorization:'42488cc5-fe94-4fe0-b1f0-0d91c1eb8880','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","options","_url","url","_headers","headers","res","ok","Promise","reject","status","json","fetch","then","_checkDataResponse","_getResponse","inputs","method","body","JSON","stringify","name","about","link","cardId","avatar","api","authorization"],"sources":["/Users/iliabybykov/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkDataResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  _getResponse(url, options) {\n    return fetch(url, options).then(this._checkDataResponse);\n  }\n\n  getInitialCards() {\n    return this._getResponse(this._url + '/cards', {\n      headers: this._headers\n    })\n  }\n\n  getServerUserInfo() {\n    return this._getResponse(this._url + '/users/me', {\n      headers: this._headers\n    })\n  }\n\n  setServerUserInfo(inputs) {\n    return this._getResponse(this._url + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputs.name,\n        about: inputs.about\n      })\n    })\n  }\n\n  postServerCard(inputs) {\n    return this._getResponse(this._url + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: inputs.name,\n        link: inputs.link\n      })\n    })\n  }\n\n  deleteCard(cardId) {\n    return this._getResponse(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n  }\n\n  putLike(cardId) {\n    return this._getResponse(this._url + '/cards/' + cardId + '/likes', {\n      method: 'PUT',\n      headers: this._headers,\n    })\n  }\n\n  deleteLike(cardId) {\n    return this._getResponse(this._url + '/cards/' + cardId + '/likes', {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n  }\n\n  setUserAvatar(inputs) {\n    return this._getResponse(this._url + '/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: inputs.avatar\n      })\n    })\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-52',\n  headers: {\n    authorization: '42488cc5-fe94-4fe0-b1f0-0d91c1eb8880',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n"],"mappings":"iPAAMA,IAAG,yBACP,aAAYC,OAAO,CAAE,2BACnB,IAAI,CAACC,IAAI,CAAGD,OAAO,CAACE,GAAG,CACvB,IAAI,CAACC,QAAQ,CAAGH,OAAO,CAACI,OAAO,CACjC,CAAC,kDAED,4BAAmBC,GAAG,CAAE,CACtB,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,MAAOC,QAAO,CAACC,MAAM,iDAAYH,GAAG,CAACI,MAAM,EAAG,CAChD,CACA,MAAOJ,IAAG,CAACK,IAAI,EAAE,CACnB,CAAC,4BAED,sBAAaR,GAAG,CAAEF,OAAO,CAAE,CACzB,MAAOW,MAAK,CAACT,GAAG,CAAEF,OAAO,CAAC,CAACY,IAAI,CAAC,IAAI,CAACC,kBAAkB,CAAC,CAC1D,CAAC,+BAED,0BAAkB,CAChB,MAAO,KAAI,CAACC,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,QAAQ,CAAE,CAC7CG,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACJ,CAAC,iCAED,4BAAoB,CAClB,MAAO,KAAI,CAACW,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,WAAW,CAAE,CAChDG,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACJ,CAAC,iCAED,2BAAkBY,MAAM,CAAE,CACxB,MAAO,KAAI,CAACD,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,WAAW,CAAE,CAChDe,MAAM,CAAE,OAAO,CACfZ,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBc,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAEL,MAAM,CAACK,IAAI,CACjBC,KAAK,CAAEN,MAAM,CAACM,KAChB,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,8BAED,wBAAeN,MAAM,CAAE,CACrB,MAAO,KAAI,CAACD,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,QAAQ,CAAE,CAC7Ce,MAAM,CAAE,MAAM,CACdZ,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBc,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAEL,MAAM,CAACK,IAAI,CACjBE,IAAI,CAAEP,MAAM,CAACO,IACf,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,0BAED,oBAAWC,MAAM,CAAE,CACjB,MAAO,KAAI,CAACT,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,SAAS,CAAGsB,MAAM,CAAE,CACvDP,MAAM,CAAE,QAAQ,CAChBZ,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACJ,CAAC,uBAED,iBAAQoB,MAAM,CAAE,CACd,MAAO,KAAI,CAACT,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,SAAS,CAAGsB,MAAM,CAAG,QAAQ,CAAE,CAClEP,MAAM,CAAE,KAAK,CACbZ,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACJ,CAAC,0BAED,oBAAWoB,MAAM,CAAE,CACjB,MAAO,KAAI,CAACT,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,SAAS,CAAGsB,MAAM,CAAG,QAAQ,CAAE,CAClEP,MAAM,CAAE,QAAQ,CAChBZ,OAAO,CAAE,IAAI,CAACD,QAChB,CAAC,CAAC,CACJ,CAAC,6BAED,uBAAcY,MAAM,CAAE,CACpB,MAAO,KAAI,CAACD,YAAY,CAAC,IAAI,CAACb,IAAI,CAAG,kBAAkB,CAAE,CACvDe,MAAM,CAAE,OAAO,CACfZ,OAAO,CAAE,IAAI,CAACD,QAAQ,CACtBc,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBK,MAAM,CAAET,MAAM,CAACS,MACjB,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,mBAGH,GAAMC,IAAG,CAAG,GAAI1B,IAAG,CAAC,CAClBG,GAAG,CAAE,6CAA6C,CAClDE,OAAO,CAAE,CACPsB,aAAa,CAAE,sCAAsC,CACrD,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}